<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="styles.css"> <!-- Keep this link for external CSS -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product List</title>
</head>
<body>

<a href="home.html" class="back-link">Back to Home</a>

<h1>PRODUCT LIST</h1>

<div id="add-product">
    <div class="card" onclick="showProductForm()">Add New Product</div>
</div>

<ul id="product-list">
    <!-- Products will be dynamically added here -->
</ul>

<!-- Form for adding a new product (initially hidden) -->
<form id="product-form">
    <label for="product-name">Product Name:</label>
    <input type="text" id="product-name" name="name">

    <label for="product-price">Price:</label>
    <input type="number" id="product-price" name="price">

    <label for="product-category">Category ID:</label>
    <input type="number" id="product-category" name="categoryId">

    <label for="product-brand">Brand ID:</label>
    <input type="number" id="product-brand" name="brandId">

    <label for="product-portion">Portion:</label>
    <input type="text" id="product-portion" name="portion">

    <label for="product-image">Image URL:</label>
    <input type="text" id="product-image" name="image">

    <button type="button" onclick="submitProduct()">Submit</button>
</form>

<!-- Button to open the new product popup -->
<button id="open-popup-btn">Add New Product (Popup)</button>

<!-- The Modal -->
<div id="newProductModal" class="modal">
    <div class="modal-content">
        <span class="close" id="close-popup-btn">&times;</span>
        <iframe src="new-product-popup.html" width="100%" height="400px" frameborder="0"></iframe>
    </div>
</div>

<script src="app.js"></script> <!-- Link to your JavaScript -->

<script>
    // Get the modal
    var modal = document.getElementById("newProductModal");

    // Get the button that opens the modal
    var btn = document.getElementById("open-popup-btn");

    // Get the <span> element that closes the modal
    var span = document.getElementById("close-popup-btn");

    // When the user clicks the button, open the modal
    btn.onclick = function() {
        modal.style.display = "block";
    }

    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
        modal.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
</script>

</body>
</html>
